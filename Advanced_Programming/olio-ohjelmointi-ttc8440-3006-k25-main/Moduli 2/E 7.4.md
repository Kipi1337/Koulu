
# 7.4.1 NLP kirjasto ja olit: Harjoitustehtävä

## **Yleistä**
Tässä harjoituksessa yhdistetään **NLP (Natural Language Processing) ja polymorfismi**, jotta voidaan **analysoida eri tekstityyppejä joustavasti**. Pythonin **nltk-kirjastoa** käytetään analysoimaan tekstiä ja **luokittelemaan se** esimerkiksi **positiiviseksi, negatiiviseksi tai neutraaliksi**.

Polymorfismin avulla luodaan ohjelma, joka **soveltaa eri analysointitapoja** esimerkiksi uutisartikkeleille, some-viesteille ja asiakasarvioille.

---

## **Tavoite**
- **Ymmärtää NLP:n sovellusmahdollisuuksia** ja käyttää **nltk-kirjastoa** tekstin analysointiin.  
- **Harjoitella polymorfismia**, jossa eri tekstityypit voidaan analysoida eri tavoilla.  
- **Soveltaa NLP-tekniikoita**, kuten **sanaluokittelu, mielipiteen analyysi (sentiment analysis) tai avainsanojen tunnistus**.

---

## **Ohjeet**
1. **Asenna tarvittavat kirjastot (jos niitä ei ole asennettu):**  
   ```bash
   pip install nltk textblob
   
## **Ensimmäisellä käyttökerralla lataa NLTK:n resurssit**
```python
import nltk
nltk.download('punkt')
nltk.download('averaged_perceptron_tagger')
nltk.download('wordnet')
nltk.download('vader_lexicon')
```

Luo yliluokka Tekstianalyysi, jossa on:

analysoi(self, teksti), joka tulee ylikirjoittaa aliluokissa.
Luo aliluokat, jotka perivät Tekstianalyysi-luokan:

ArtikkeliAnalyysi:
Laskee tekstin lauseiden määrän.
TwiittiAnalyysi:
Laskee tekstin sanojen määrän.
MielipideAnalyysi:
Käyttää TextBlob- tai Vader-menetelmää määrittämään tekstin positiivisuuden, negatiivisuuden ja neutraaliuden.
(Lisätehtävä) SanaluokkaAnalyysi:
Tunnistaa tekstistä sanaluokat (substantiivit, verbit jne.) käyttäen nltk.pos_tag().
Luo instansseja eri analyysimenetelmistä ja kokeile niitä erilaisilla teksteillä.

Esimerkki NLP:n käytöstä
Alla on esimerkki siitä, miten NLP-kirjastoa voidaan soveltaa tekstianalyysiin.

```md
import nltk
from nltk.tokenize import sent_tokenize, word_tokenize
from textblob import TextBlob
from nltk.sentiment import SentimentIntensityAnalyzer

# Lataa resurssit
nltk.download('punkt')
nltk.download('averaged_perceptron_tagger')
nltk.download('vader_lexicon')


# Abstrakti yliluokka (Perintä & Polymorfismi)
class Tekstianalyysi:
    def analysoi(self, teksti):
        raise NotImplementedError("Tätä metodia tulee ylikirjoittaa aliluokissa.")


# Lauseiden laskeminen (Polymorfismi & Kapselointi)
class ArtikkeliAnalyysi(Tekstianalyysi):
    def analysoi(self, teksti):
        lauseet = sent_tokenize(teksti)
        print(f" Artikkelissa on {len(lauseet)} lausetta.")


# Sanojen laskeminen (Polymorfismi & Kapselointi)
class TwiittiAnalyysi(Tekstianalyysi):
    def analysoi(self, teksti):
        sanat = word_tokenize(teksti)
        print(f" Twiitissä on {len(sanat)} sanaa.")


# Mielipideanalyysi (Perintä & Kapselointi)
class MielipideAnalyysi(Tekstianalyysi):
    def analysoi(self, teksti):
        sia = SentimentIntensityAnalyzer()
        tulos = sia.polarity_scores(teksti)
        print(f" Tekstin mielipideanalyysi:\nPositiivisuus: {tulos['pos']}, Negatiivisuus: {tulos['neg']}, Neutraalius: {tulos['neu']}")


# Sanaluokkien tunnistus (Staattinen metodi & Polymorfismi)
class SanaluokkaAnalyysi(Tekstianalyysi):
    @staticmethod
    def tunnista_sanaluokat(teksti):
        sanat = word_tokenize(teksti)
        sanaluokat = nltk.pos_tag(sanat)
        print(" Sanaluokkien tunnistus:", sanaluokat)

    def analysoi(self, teksti):
        self.tunnista_sanaluokat(teksti)


# Kompositio: Ohjelma yhdistää analyysityyppejä
class AnalyysiOhjelma:
    def __init__(self):
        self.analyysit = []

    def lisaa_analyysi(self, analyysi):
        if isinstance(analyysi, Tekstianalyysi):
            self.analyysit.append(analyysi)
        else:
            print(" Vain Tekstianalyysi-olion voi lisätä!")

    def suorita_analyysi(self, teksti):
        for analyysi in self.analyysit:
            analyysi.analysoi(teksti)


# Käytetään ohjelmaa
if __name__ == "__main__":
    ohjelma = AnalyysiOhjelma()

    # Lisätään eri analyysit ohjelmaan (Kompositio)
    ohjelma.lisaa_analyysi(ArtikkeliAnalyysi())
    ohjelma.lisaa_analyysi(TwiittiAnalyysi())
    ohjelma.lisaa_analyysi(MielipideAnalyysi())
    ohjelma.lisaa_analyysi(SanaluokkaAnalyysi())

    # Testataan analyysia
    testiteksti = "Today is a great day"
    print("\n Analysoidaan teksti:\n", testiteksti, "\n")
    
    ohjelma.suorita_analyysi(testiteksti)
```

Esimerkkituloste:

 Analysoidaan teksti:
 today is a great day 

Artikkelissa on 1 lausetta.
Twiitissä on 5 sanaa.
Tekstin mielipideanalyysi:
Positiivisuus: 0.577, Negatiivisuus: 0.0, Neutraalius: 0.423
Sanaluokkien tunnistus: [('today', 'NN'), ('is', 'VBZ'), ('a', 'DT'), ('great', 'JJ'), ('day', 'NN')]




## Tehtävä: Tee oma NLP-pohjainen analyysi
- Muokkaa ja laajenna koodia lisätäksesi uusia analysointitapoja.
- Kokeile eri tekstityyppejä, kuten uutisartikkeleita, some-postauksia ja asiakaspalautteita.
- Tutki, miten eri NLP-menetelmät vaikuttavat analyysituloksiin.
- Lisätehtävä: Lisää uusi analyysimenetelmä, joka tunnistaa avainsanat tai tärkeimmät substantiivit tekstistä.
- Soveltava tehtävä: NLP analyysi chatbotille
- Kehitä yksinkertainen chatbot, joka pystyy luokittelemaan käyttäjän antaman tekstin ja antamaan analyysin sen positiivisuudesta,    neutraaliudesta tai negatiivisuudesta.

Ohjeet:

Pyydä käyttäjää syöttämään lause. teksti = input()
Käytä MielipideAnalyysi-luokkaa arvioimaan tekstin positiivisuus/negatiivisuus.
Tulosta analyysi käyttäjälle.


Kokeile erilaisia tekstejä ja testaa, miten NLP-menetelmät toimivat eri kielissä ja tilanteissa!  

