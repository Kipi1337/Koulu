# Documentation for E08

Start here...

Valmistellaan topologiaa

## topologia
![Looginen](/documentation/E08/E08loog.drawio)
![IP topologia](/documentation/E08/toplogip.drawio)

Seuraten yläpuoleista topologia kuvaa

    Kloonaa kolmas vyos virtuaalikone
    Lisää rajapinnat kolmanteen vyos virtuaalikoneeseen ja päivitä muiden vyos virtuaalikoneiden rajapinnat täsmäämään topologian kanssa
    Käytä kahta eri 2 päätelaite(osoitteen) aliverkkoa (E03 Aliverkkojen laskenta - Harjoitus 4) reittimien välillä.
        yksi aliverkko R1 ja R3 välillä
        yksi aliverkko R2 ja R3 välillä
    Konfiguroi aliverkot käyttöön kaikilla reitittimillä (set interfaces ethernet eth...)

## Vyossien osoitus ylhäältä alas 3,2,1
![vyos](/documentation/E08/vyos321interfaces.png)

Osoitteista loopback -rajapinnat

Kuviossa on uudet visualisoinnit loopback -rajapinnoille.

a

Osoitteista loopback -rajapinnat seuraavasti:

    Valitse vapaa 2 päätelaite(osoitteen) aliverkko (E03 Aliverkkojen laskenta - Harjoitus 4)
    Jaa siitä yksittäiset /32 osoitteet kullekkin reitittimelle (voit käyttää valitun aliverkon kaikki 4 osoitetta reitittimillä)

Osoite konfiguroidaan reitittimelle komennolla set interfaces loopback lo address <x.x.x.x/32>
## vyossien kaikuluotain osoitteistus ylhäältä alas järjestyksessä 3,2,1
![vyos_lo](/documentation/E08/vyoskaikuluotainadd321.png)

Konfiguroi OSPF reittimille
Poistetaan staattinen reititys
## staattisen reititysten poisto
![static](/documentation/E08/staticroutedelete.png)
Poista kaikki staattiset reitit reitittimien konfiguraatiosta.
delete protocols static route <x.x.x.x/xx>
## ospf määrittely
![ospf](/documentation/E08/ospfareaasetus.png)
Kytke päälle dynaaminen reititys - OSPF

    Muodosta naapuruudet reittimien välillä komennolla set protocols ospf area 0 network <x.x.x.x/xx>
    Reititä kaikki aliverkot topologiassa OSPF:llä
        Muista myös loopback aliverkot
Tarkasta reititystaulu

## unohdin osoitteistaa vyos 3 joka tuotti ongelmia.

Tarkasta ja dokumentoi topologiaa eri show komennoilla reitittimiltä:

    show ip ospf neighbor
    show ip route ospf ja show ip route
    show ip ospf database

Yhteystestaukset

Tarkasta yhteydellisyys eri päätelaitteiden kesken eri aliverkoissa käyttämällä ping- ja traceroute-komentoja.

Piirrä johtopäätökset käytetyistä reiteistä perustuen

    traceroute tulosteeseen
    show komentoihin
    (loogiseen) topologia kuvaan

## vyossit pingailevat eri verkkoja
![route](/documentation/E08/pingailua.png)
## vyossit oppivat nopeasti osoitteet... heti kun muistin osoitteistaa vyos kolmosen
![vyos_lo](/documentation/E08/showospfkomennot.png)
## Vyossin tracerouteja ilman että muut koneet on päällä
![vyosroute](/documentation/E08/tracerouteja.png)
## traceroute koneen 1 ja 3 väliltä
![traceroute1,3](/documentation/E08/traceroutekone1-3.png)
## Topologia lopussa
![Loogip](/documentation/E08/E08finale.drawio)

## Muistetaan myös konfiguroida vyossit loppuun asti
![vyos](/documentation/E08/vyossienkonfloppu.png)

## pinkki ponkki ja traceroute
![pong](/documentation/E08/pingtraceroute.png)
## ping pong traceroute koneelta 3 koneelle 2
![ping](/documentation/E08/lubuntu3-kone2.png)
## topologiaan tulkitseminen
![chonk](/documentation/E08/tulkinta.png)
